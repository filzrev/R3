{
  "metadata": [
    // Build API metadata from Unity source files.
    {
      "src": [
        {
          "src": "../src",
          "files": [
            "R3.Unity/**.cs", // TODO: Needs UnityEngine/UnityEditor DLL references.
          ]
        }
      ],
      "properties": {
         "TargetFramework": "net8.0"
      },
      "dest": "api",
      "allowCompilationErrors": true,
      "outputFormat": "apiPage"
    },
    // Build API metadata from csproj (Except for projects that requires non .NET8 target framework)
    {
      "src": [
        {
          "src": "../src",
          "files": [
            "**/*.csproj"
          ],
          "exclude": [
            "**/R3.WinForms.csproj",
            "**/R3.WPF.csproj",
            "**/R3.WinUI3.csproj"
          ]         
        }
      ],
      "properties": {
         "TargetFramework": "net8.0"
      },
      "dest": "api",
      "allowCompilationErrors": false,
      "outputFormat": "apiPage"
    },
    // Build API metadata for WinForms/WPF projects.
    {
      "src": [
        {
          "src": "../src",
          "files": [
            "**/R3.csproj",
            "**/R3.WinForms.csproj",
            "**/R3.WPF.csproj",
          ],
          "exclude": [
            "**/R3.WinUI3.csproj"
          ]
        }
      ],
      "properties": {
         // TODO: 
         // When TargetFramework is not specified. Following warning occurred. 
         // > Project does not contain 'Compile' target.`
         // But when specified. following warning occurred.
         // > warning: [Warning] Found project reference without a matching metadata reference: C:\Projects\R3\src\R3\R3.csproj
         "TargetFramework": "net8.0-windows" // When not specified. Following warning occurred. Project does not contain 'Compile' target.`
      },
      "dest": "api",
      "allowCompilationErrors": false,
      "outputFormat": "apiPage"
    },
    // Build API metadata for WinUI3 project.
    {
      "src": [
        {
          "src": "../src",
          "files": [
            "**/R3.csproj",
            "**/R3.WinUI3.csproj",
          ]
        }
      ],
      "properties": {
         //"TargetFramework": "net6.0-windows10.0.19041.0" // No need to specify target framework.
      },
      "dest": "api",
      "allowCompilationErrors": false,
      "outputFormat": "apiPage"
    },
  ],
  "build": {
    "content": [
      {
        "files": [
          "index.md",
          "toc.yml",
          "articles/**.{md,yml}",
          "api/**.{md,yml}",
        ],
        "exclude": [
          "_site/**"
        ]        
      }
    ],
    "resource": [
      {
        "files": [
          "images/**"
        ]
      }
    ],
    "output": "_site",
    "template": [
      "default",
      "modern",
      "templates/cysharp"
    ],
    "globalMetadata": {
      "_appName": "R3",
      "_appTitle": "R3",
      "_appLogoPath": "public/logo.png",
      "_appFaviconPath": "public/favicon.ico",
      "_appFooter": "Copyright Â© <a href=\"https://cysharp.co.jp\">Cysharp</a>, Inc. | <span>Generated by <strong>DocFX</strong></span>",
      "_noindex": true, // TODO: It's added to suppress contents crawled by search engine. It need to remove this settings for publish public site.
      "_enableSearch": true,
      "pdf": true
    }
  }
}
